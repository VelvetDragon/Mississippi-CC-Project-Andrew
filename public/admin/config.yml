backend:
  name: git-gateway
  branch: main

# Enable draft/review workflow (professor can save drafts before publishing)
publish_mode: editorial_workflow

# Where images are stored
media_folder: "public/images/blog"
public_folder: "/images/blog"

# Better media library settings
media_library:
  max_file_size: 5120000  # 5MB max file size
  folder_support: true

# Site settings displayed in CMS
site_url: https://mississippi-cc-project.netlify.app
display_url: https://mississippi-cc-project.netlify.app
logo_url: /images/cdh-logo.png

# Localization
locale: 'en'

collections:
  # ========================================
  # CULINARY TALES (Blog Posts)
  # ========================================
  - name: "blog"
    label: "ğŸ“ Culinary Tales (Blog)"
    label_singular: "Blog Post"
    description: "Create and manage blog posts for the Culinary Tales section."
    folder: "src/content/blog"
    create: true
    delete: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    summary: "{{title}} â€” {{year}}/{{month}}/{{day}}"
    sortable_fields: ['title', 'date']
    view_filters:
      - label: Published
        field: published
        pattern: true
      - label: Drafts
        field: published
        pattern: false
    view_groups:
      - label: Year
        field: date
        pattern: \d{4}
    fields:
      # Basic Info Section
      - label: "ğŸ“Œ Post Title"
        name: "title"
        widget: "string"
        hint: "The main title of your blog post (appears at the top of the page)"
        
      - label: "ğŸ”— URL Slug"
        name: "slug"
        widget: "string"
        hint: "URL-friendly version. Use lowercase letters and hyphens only (e.g., 'my-great-recipe')"
        pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$', "Use only lowercase letters, numbers, and hyphens"]
        
      - label: "ğŸ“… Publish Date"
        name: "date"
        widget: "datetime"
        date_format: "MMMM D, YYYY"
        time_format: false
        hint: "When should this post be dated?"
        
      - label: "âœï¸ Author"
        name: "author"
        widget: "string"
        default: "Dr. Andrew Haley"
        hint: "Who wrote this post?"
        
      - label: "âœ… Published"
        name: "published"
        widget: "boolean"
        default: true
        hint: "Uncheck to save as a draft (won't appear on the website)"

      # Visual Section
      - label: "ğŸ–¼ï¸ Hero Image"
        name: "backgroundImage"
        widget: "image"
        required: true
        hint: "The large image that appears at the top of the post. Recommended size: 1200x600 pixels or larger."
        media_library:
          config:
            multiple: false
            
      - label: "ğŸ“ Short Summary"
        name: "excerpt"
        widget: "text"
        hint: "A brief description (1-2 sentences) that appears on the blog listing page. Keep it under 200 characters."
        pattern: ['.{10,300}', "Must be between 10 and 300 characters"]

      # Main Content
      - label: "ğŸ“„ Full Article Content"
        name: "body"
        widget: "markdown"
        hint: "Write your full blog post here. You can use the toolbar to add headings, bold text, images, and links."
        buttons:
          - bold
          - italic
          - link
          - heading-two
          - heading-three
          - quote
          - bulleted-list
          - numbered-list
        editor_components:
          - image
          - code-block
        minimal: false
